{
  "qualified_name": "uc9",
  "header": {
    "description": "A prototype Use Case 9 workflow"
  },
  "input": {
    "ds1": {
      "data_type": "str",
      "description": "1st data source name"
    },
    "ds2": {
      "data_type": "str",
      "description": "2nd data source name"
    },
    "var1": {
      "data_type": "str",
      "description": "1st dataset variable name"
    },
    "var2": {
      "data_type": "str",
      "description": "2nd dataset variable name"
    },
    "start_date": {
      "data_type": "str",
      "description": "first date for the dataset"
    },
    "end_date": {
      "data_type": "str",
      "description": "last date for the dataset"
    },
    "output_path": {
      "data_type": "str",
      "description": "Output folder"
    }
   },
  "steps": [
    {
      "id": "open_ds1",
      "op": "ect.ops.io.load_dataset",
      "input": {
        "data_source": "uc9.ds1",
        "start_date": "uc9.start_date",
        "end_date": "uc9.end_date"
      }
    },
    {
      "id": "open_ds2",
      "op": "ect.ops.io.load_dataset",
      "input": {
        "data_source": "uc9.ds2",
        "start_date": "uc9.start_date",
        "end_date": "uc9.end_date"
      }
    },
    {
      "id": "filter1",
      "expression": "ds1.filter([var1])",
      "input": {
        "ds1": "open_ds1",
        "var1": "uc9.var1"
      }
    },
    {
      "id": "filter2",
      "expression": "ds2.filter([var2])",
      "input": {
        "ds2": "open_ds2",
        "var2": "uc9.var2"
      }
    },
    {
      "id": "dataset_list",
      "expression": "list([ds1,ds2])",
      "input": {
        "ds1": "filter1",
        "ds2": "filter2"
      }
    },
    {
      "id": "harmonize",
      "op": "ect.ops.harmonize.harmonize",
      "input": {
        "datasets": "dataset_list"
      }
    },
    {
      "id": "construct_filename1",
      "expression": "str(folder+'/fig1.png')",
      "input": {
        "folder": "uc9.output_path"
      }
    },
    {
      "id": "construct_filename2",
      "expression": "str(folder+'/fig2.png')",
      "input": {
        "folder": "uc9.output_path"
      }
    },
    {
      "id": "construct_filename3",
      "expression": "str(folder+'/fig3.png')",
      "input": {
        "folder": "uc9.output_path"
      }
    },
    {
      "id": "construct_filename4",
      "expression": "str(folder+'/fig4.png')",
      "input": {
        "folder": "uc9.output_path"
      }
    },
    {
      "id": "construct_filename5",
      "expression": "str(folder+'/fig5.png')",
      "input": {
        "folder": "uc9.output_path"
      }
    },
    {
      "id": "construct_filename6",
      "expression": "str(folder+'/fig6.png')",
      "input": {
        "folder": "uc9.output_path"
      }
    },
    {
      "id": "const_zero",
      "expression": "int(0)"
    },
    {
      "id": "plot_map1",
      "op": "ect.ops.plot.plot_map",
      "input": {
        "ds": "filter1",
        "variable": "uc9.var1",
        "time": "const_zero",
        "path": "construct_filename1"
      }
    },
    {
      "id": "plot_map2",
      "op": "ect.ops.plot.plot_map",
      "input": {
        "ds": "filter2",
        "variable": "uc9.var2",
        "time": "const_zero",
        "path": "construct_filename2"
      }
    }
  ]
}
